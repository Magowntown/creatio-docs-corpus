{
  "url": "https://academy.creatio.com/docs/8.x/setup-and-administration/8.2/administration/creatio-maintenance/process-complex-database-queries-faster",
  "title": "Process complex database queries faster",
  "breadcrumbs": [
    {
      "text": "Administration",
      "href": "/docs/8.x/setup-and-administration/8.2/category/administration"
    },
    {
      "text": "Creatio maintenance",
      "href": "/docs/8.x/setup-and-administration/8.2/category/creatio-maintenance"
    }
  ],
  "content_markdown": "Version: 8.2\nOn this page\nSome Creatio database queries take a long time to process, which might affect page loading or task completion time significantly. Such queries are usually called \"heavy.\" They include:\n* complex filters in pages and dynamic folders\n* complex analytical selections in section dashboards\n* complex custom queries implemented using development tools\nYou can accelerate the processing of heavy queries by forwarding them to a read-only database replica. This will reduce the load on the main database significantly and free up resources for the activity of users and the operation of other Creatio elements.\nTo set up the redirection of heavy queries, take the following steps:\n1. Create a read-only database replica.\n2. Configure access to the database replica in Creatio.\n## Step 1. Create a database replica\u200b\nThe procedure to create a database replica is DBMS-specific. Learn more about the process in vendor documentation:\n* [Create a database replica in PostgreSQL](https://www.postgresql.org/docs/current/warm-standby.html).\n* [Create a database replica in Microsoft SQL](https://docs.microsoft.com/en-us/sql/relational-databases/replication/sql-server-replication?view=sql-server-ver15).\n* [Create a database replica in Oracle](https://docs.oracle.com/cd/B19306_01/server.102/b14228/config_simple.htm#STREP056).\n## Step 2. Set up redirection of heavy queries\u200b\n1. **Set up redirection** of heavy queries to the database replica. Perform the setup in the Terrasoft.WebHost.dll.config file for **Creatio .NET** and in the web.config file in the root folder for Creatio **NET Framework**.\n1. Select the UseQueryKinds checkbox in the `appSettings` section.\n<add key=\"UseQueryKinds\" value=\"true\" />  \n2. Add the `replicaConnectionStringName=\"db_Replica\"` value to the db general parameter.\n* For Microsoft SQL\n* For PostgreSQL\n<general connectionStringName=\"db\" replicaConnectionStringName=\"db_Replica\" securityEngineType=\"Terrasoft.DB.MSSql.MSSqlSecurityEngine, Terrasoft.DB.MSSql\" executorType=\"Terrasoft.DB.MSSql.MSSqlExecutor, Terrasoft.DB.MSSql\" engineType=\"Terrasoft.DB.MSSql.MSSqlEngine, Terrasoft.DB.MSSql\" metaEngineType=\"Terrasoft.DB.MSSql.MSSqlMetaEngine, Terrasoft.DB.MSSql\" metaScriptType=\"Terrasoft.DB.MSSql.MSSqlMetaScript, Terrasoft.DB.MSSql\" typeConverterType=\"Terrasoft.DB.MSSql.MSSqlTypeConverter, Terrasoft.DB.MSSql\" enableRetryDBOperations=\"false\" retryDBOperationFactoryType=\"Terrasoft.DB.MSSql.MSSqlRetryOperationFactory, Terrasoft.DB.MSSql\" binaryPackageSize=\"1048576\" currentSchemaName=\"dbo\" enableSqlLog=\"false\" sqlLogQueryTimeElapsedThreshold=\"5000\" sqlLogRowsThreshold=\"100\" useOrderNullsPosition=\"false\" maxEntitySchemaNameLength=\"128\" />  \n<general connectionStringName=\"db\" replicaConnectionStringName=\"db_Replica\" maxEntitySchemaNameLength=\"128\" useOrderNullsPosition=\"false\" sqlLogRowsThreshold=\"100\" sqlLogQueryTimeElapsedThreshold=\"5000\" enableSqlLog=\"false\" currentSchemaName=\"public\" binaryPackageSize=\"1048576\" typeConverterType=\"Terrasoft.DB.PostgreSql.PostgreSqlTypeConverter, Terrasoft.DB.PostgreSql\" metaScriptType=\"Terrasoft.DB.PostgreSql.PostgreSqlMetaScript, Terrasoft.DB.PostgreSql\" metaEngineType=\"Terrasoft.DB.PostgreSql.PostgreSqlMetaEngine, Terrasoft.DB.PostgreSql\" engineType=\"Terrasoft.DB.PostgreSql.PostgreSqlEngine, Terrasoft.DB.PostgreSql\" maxAnsiJoinCount=\"0\" isCaseInsensitive=\"true\" executorType=\"Terrasoft.DB.PostgreSql.PostgreSqlExecutor, Terrasoft.DB.PostgreSql\" securityEngineType=\"Terrasoft.DB.PostgreSql.PostgreSqlSecurityEngine, Terrasoft.DB.PostgreSql\"/>  \n2. **Configure access** to the database replica in Creatio. To do this, add the `db_Replica` parameter to the ConnectionStrings.config file:\n* For Microsoft SQL\n* For PostgreSQL\n* For Oracle\n<add name=\"db_Replica\" connectionString=\"Data Source=[ Database server name ]; Initial Catalog=[ Database name ]; Persist Security Info=True; MultipleActiveResultSets=True; Integrated Security=SSPI; Pooling = true; Max Pool Size = 100; Async = true\" />  \n<add name=\"db_Replica\" connectionString=\"Server=[ Database server name ];Port=[ Database server port ];Database=[ Database name ];User ID=[ PostgreSQL user that connects to the database ];password=[ PostgreSQL user password ];Timeout=500; CommandTimeout=400;MaxPoolSiz>  \n<add name=\"db_Replica\" connectionString=\"Data Source=(DESCRIPTION = (ADDRESS_LIST = (ADDRESS = (PROTOCOL = TCP)(HOST =[Database server name])(PORT = 1521))) (CONNECT_DATA = (SERVICE_NAME =[Oracle service name]) (SERVER = DEDICATED)));User Id=[Schema name];Password=[Schema password];Statement Cache Size = 300\" />  \n* * *\n## See also\u200b\n[Requirements calculator](https://academy.creatio.com/docs/requirements/calculator)\n[General Creatio deployment procedure](https://academy.creatio.com/documents?id=1263)\n[Set up a dedicated query pool (developer documentation)](https://academy.creatio.com/documents?id=15261)",
  "code_examples": [
    {
      "code": "<add key=\"UseQueryKinds\" value=\"true\" />",
      "language": "xml",
      "context": "Select the UseQueryKinds checkbox in theappSettingssection.",
      "tab_label": "",
      "line_count": 1
    },
    {
      "code": "<general connectionStringName=\"db\" replicaConnectionStringName=\"db_Replica\" securityEngineType=\"Terrasoft.DB.MSSql.MSSqlSecurityEngine, Terrasoft.DB.MSSql\" executorType=\"Terrasoft.DB.MSSql.MSSqlExecutor, Terrasoft.DB.MSSql\" engineType=\"Terrasoft.DB.MSSql.MSSqlEngine, Terrasoft.DB.MSSql\" metaEngineType=\"Terrasoft.DB.MSSql.MSSqlMetaEngine, Terrasoft.DB.MSSql\" metaScriptType=\"Terrasoft.DB.MSSql.MSSqlMetaScript, Terrasoft.DB.MSSql\" typeConverterType=\"Terrasoft.DB.MSSql.MSSqlTypeConverter, Terrasoft.DB.MSSql\" enableRetryDBOperations=\"false\" retryDBOperationFactoryType=\"Terrasoft.DB.MSSql.MSSqlRetryOperationFactory, Terrasoft.DB.MSSql\" binaryPackageSize=\"1048576\" currentSchemaName=\"dbo\" enableSqlLog=\"false\" sqlLogQueryTimeElapsedThreshold=\"5000\" sqlLogRowsThreshold=\"100\" useOrderNullsPosition=\"false\" maxEntitySchemaNameLength=\"128\" />",
      "language": "xml",
      "context": "Add thereplicaConnectionStringName=\"db_Replica\"value to the db general parameter.",
      "tab_label": "",
      "line_count": 1
    },
    {
      "code": "<general connectionStringName=\"db\" replicaConnectionStringName=\"db_Replica\" maxEntitySchemaNameLength=\"128\" useOrderNullsPosition=\"false\" sqlLogRowsThreshold=\"100\" sqlLogQueryTimeElapsedThreshold=\"5000\" enableSqlLog=\"false\" currentSchemaName=\"public\" binaryPackageSize=\"1048576\" typeConverterType=\"Terrasoft.DB.PostgreSql.PostgreSqlTypeConverter, Terrasoft.DB.PostgreSql\" metaScriptType=\"Terrasoft.DB.PostgreSql.PostgreSqlMetaScript, Terrasoft.DB.PostgreSql\" metaEngineType=\"Terrasoft.DB.PostgreSql.PostgreSqlMetaEngine, Terrasoft.DB.PostgreSql\" engineType=\"Terrasoft.DB.PostgreSql.PostgreSqlEngine, Terrasoft.DB.PostgreSql\" maxAnsiJoinCount=\"0\" isCaseInsensitive=\"true\" executorType=\"Terrasoft.DB.PostgreSql.PostgreSqlExecutor, Terrasoft.DB.PostgreSql\" securityEngineType=\"Terrasoft.DB.PostgreSql.PostgreSqlSecurityEngine, Terrasoft.DB.PostgreSql\"/>",
      "language": "xml",
      "context": "Add thereplicaConnectionStringName=\"db_Replica\"value to the db general parameter.",
      "tab_label": "",
      "line_count": 1
    },
    {
      "code": "<add name=\"db_Replica\" connectionString=\"Data Source=[ Database server name ]; Initial Catalog=[ Database name ]; Persist Security Info=True; MultipleActiveResultSets=True; Integrated Security=SSPI; Pooling = true; Max Pool Size = 100; Async = true\" />",
      "language": "xml",
      "context": "Configure accessto the database replica in Creatio. To do this, add thedb_Replicaparameter to the ConnectionStrings.config file:",
      "tab_label": "",
      "line_count": 1
    },
    {
      "code": "<add name=\"db_Replica\" connectionString=\"Server=[ Database server name ];Port=[ Database server port ];Database=[ Database name ];User ID=[ PostgreSQL user that connects to the database ];password=[ PostgreSQL user password ];Timeout=500; CommandTimeout=400;MaxPoolSiz>",
      "language": "xml",
      "context": "Configure accessto the database replica in Creatio. To do this, add thedb_Replicaparameter to the ConnectionStrings.config file:",
      "tab_label": "",
      "line_count": 1
    },
    {
      "code": "<add name=\"db_Replica\" connectionString=\"Data Source=(DESCRIPTION = (ADDRESS_LIST = (ADDRESS = (PROTOCOL = TCP)(HOST =[Database server name])(PORT = 1521))) (CONNECT_DATA = (SERVICE_NAME =[Oracle service name]) (SERVER = DEDICATED)));User Id=[Schema name];Password=[Schema password];Statement Cache Size = 300\" />",
      "language": "xml",
      "context": "Configure accessto the database replica in Creatio. To do this, add thedb_Replicaparameter to the ConnectionStrings.config file:",
      "tab_label": "",
      "line_count": 1
    }
  ],
  "tables": [],
  "callouts": [],
  "images": [],
  "videos": [],
  "downloadables": [],
  "headings": [
    {
      "level": 1,
      "text": "Process complex database queries faster",
      "anchor": ""
    },
    {
      "level": 2,
      "text": "Step 1. Create a database replica\u200b",
      "anchor": "title-2194-1"
    },
    {
      "level": 2,
      "text": "Step 2. Set up redirection of heavy queries\u200b",
      "anchor": "title-2194-2"
    },
    {
      "level": 2,
      "text": "See also\u200b",
      "anchor": "see-also"
    }
  ],
  "api_docs": null,
  "sidebar_items": [
    {
      "href": "/docs/8.x/",
      "text": "Guides",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/creatio-maintenance/process-complex-database-queries-faster",
      "text": "Improve page loading time",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/administration/creatio-maintenance/process-complex-database-queries-faster",
      "text": "latest version",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/creatio-maintenance/process-complex-database-queries-faster",
      "text": "8.1",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.0/administration/user-and-access-management/user-access-overview",
      "text": "8.0",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/administration",
      "text": "Administration",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/user-and-access-management",
      "text": "User and access management",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/user-and-access-management/user-access-overview",
      "text": "Overview",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/authentication",
      "text": "Authentication",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/synchronize-users-with-ldap",
      "text": "Synchronize users with LDAP",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/user-management",
      "text": "User management",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/access-management",
      "text": "Access management",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/licensing",
      "text": "Licensing",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/licensing/creatio-licensing",
      "text": "Overview",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/licensing/manage-user-licenses",
      "text": "Manage licenses",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/licensing/creatio-licensing-faq",
      "text": "FAQ",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/pricing-model-limits",
      "text": "Pricing model",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/logging-tools",
      "text": "Logging tools",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/change-log",
      "text": "Change log",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/audit-log",
      "text": "Audit log",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/security-settings",
      "text": "Security settings",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/security-settings/secure-file-upload",
      "text": "Secure file upload",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/security-settings/recommended-information-security-settings",
      "text": "Information security settings",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/security-settings/content-security-policy",
      "text": "Content security policy",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/security-settings/store-secrets-in-vault",
      "text": "Sensitive data security",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/security-settings/host-header-protection",
      "text": "Host header protection",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/security-settings/limit-ip-for-login",
      "text": "IP restrictions",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/security-settings/platform-cookies",
      "text": "Platform Cookies",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/security-settings/remote-access-for-creatio-support",
      "text": "Remote access for Creatio support",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/creatio-maintenance",
      "text": "Creatio maintenance",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/creatio-maintenance/creatio-cloud-ips",
      "text": "Creatio cloud IP addresses",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/creatio-maintenance/clean-up-the-drive-space",
      "text": "PreviousClean up the drive space",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/creatio-maintenance/limit-DB-thread-count",
      "text": "NextLimit thread count for DB queries",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/creatio-maintenance/manage-resource-intensive-queries",
      "text": "Query management rules",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/creatio-maintenance/backup-datadase",
      "text": "Back up database",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/creatio-maintenance/manage-site",
      "text": "Maintain Creatio website",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/creatio-maintenance/compile-app-on-web-farm",
      "text": "Compile an app on a web farm",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/on-site-deployment",
      "text": "On-site deployment",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/system-requirements",
      "text": "System requirements",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/general-creatio-deployment-procedure",
      "text": "General deployment procedure",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/database-server",
      "text": "Database server",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/caching-server",
      "text": "Caching server",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/application-server-on-linux",
      "text": "Application server on Linux",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/application-server-on-windows",
      "text": "Application server on Windows",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/additional-setup",
      "text": "Additional setup",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/\u0441ontainerized-components",
      "text": "\u0421ontainerized components",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/faq",
      "text": "FAQ",
      "active": false
    },
    {
      "href": "https://www.postgresql.org/docs/current/warm-standby.html",
      "text": "Create a database replica in PostgreSQL",
      "active": false
    },
    {
      "href": "https://academy.creatio.com/docs/requirements/calculator",
      "text": "Requirements calculator",
      "active": false
    }
  ],
  "related_links": [],
  "version": "8.x",
  "crawled_at": "2026-01-15T07:43:51.646320"
}