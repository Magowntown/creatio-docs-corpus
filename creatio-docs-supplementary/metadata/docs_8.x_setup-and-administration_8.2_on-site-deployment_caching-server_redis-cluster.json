{
  "url": "https://academy.creatio.com/docs/8.x/setup-and-administration/8.2/on-site-deployment/caching-server/redis-cluster",
  "title": "Redis Cluster",
  "breadcrumbs": [
    {
      "text": "On-site deployment",
      "href": "/docs/8.x/setup-and-administration/8.2/category/on-site-deployment"
    },
    {
      "text": "Caching server",
      "href": "/docs/8.x/setup-and-administration/8.2/category/caching-server"
    }
  ],
  "content_markdown": "Version: 8.2All Creatio products\nOn this page\nThe [Redis Cluster](https://redis.io/topics/cluster-spec) mechanism provides fault tolerance for Creatio Redis repositories.\n## Redis Cluster's fault tolerance\u200b\nRedis Cluster technology will function even if most Redis instances fail. This is achieved thanks to the following features:\n* **Data replication**. Redis Cluster uses asynchronous data replication that does not merge the values. Due to asynchronous replication, the Redis Cluster system may be unable to save all data in case of failure.\n* **Monitoring**. Redis Cluster uses the TCP bus to connect cluster nodes. Every node is directly connected to the other cluster nodes via the cluster bus. The nodes use a gossip protocol to disseminate the information about changes to the cluster, for example, detecting new instances, checking the connection to existing nodes, sending other cluster messages. Redis Cluster also uses the bus to send out Pub/Sub messages to the cluster and handle failures upon user request manually. Monitor the fault tolerance of the configuration regularly and use test failures to confirm the tolerance through test failures further.\n* **Failover**. Redis Cluster can function when some master instances do not work as expected provided that every unavailable master instance has at least one slave instance. Thanks to replica migration, master instances that are no longer replicated by a slave instance will receive a new slave instance from a master instance serviced by several slave instances. Creatio applications that use Redis will reconfigure the connection according to the Redis Cluster status. To ensure fault tolerance, use at least six Redis instances running on separate computers or virtual machines.\n* **Scalability**. Redis Cluster technology lets you add and delete nodes while the cluster is in operation. You can scale Redis Cluster up to 1000 instances thanks to automatic data sharding.\n## Redis Cluster system requirements\u200b\nDeploy Redis Cluster on Linux with Redis Server 6.4 or later.\nSince Redis is a single-threaded application and uses a single processor core, use a node (a computer or virtual machine) with at least a dual-core processor to deploy a **single** Redis instance. To ensure the **maximum fault tolerance** , use a physical machine for each Redis instance so that every master-slave instance is physically separated. Use the [requirements calculator](https://academy.creatio.com/docs/requirements/calculator) to check the server requirements.\n## Install and configure Redis Cluster\u200b\n### Minimal fault-tolerant Redis Cluster configuration\u200b\nA configuration with at least six Redis instances is recommended. Learn more about the configuration in the \"Creating and using a Redis Cluster\" section of the [Redis Cluster documentation](https://redis.io/topics/cluster-tutorial). This configuration is based on six nodes (physical or virtual machines), each with a running Redis instance (Fig. 1).\nFig. 1 A six-node Redis Cluster configuration\n![Fig.\u00a01 A six-node Redis Cluster configuration](https://academy.creatio.com/docs/sites/en/files/images/Setup_and_Administration/setup_redis_cluster/scr_redis_cluster_configuration.png)\nSlave instances are read-only under normal conditions. Their data is asynchronously replicated from the master instances. Redis Cluster can both read from and write to master instances. Should a node receive a command with a key that belongs to a different node, the node that received the command will return the information about the node that has to run the operation.\nShould a master Redis instance become unavailable, Redis Cluster will initiate failover. During the failover, Redis Cluster promotes one of the Redis slave instances to master. Creatio will use it instead of the previous master instance.\nImportant\nThere is a risk of losing records with any configuration that replicates data asynchronously. This is because Redis Claster may have insufficient time to write data to a newly-promoted slave instance. The automatic reconfiguration that assigns a new master instance may take up to 15 seconds.\n### Install Redis Cluster\u200b\nRedis Cluster is bundled with the Redis distribution. The latest Redis version is recommended.\nLearn more about the installation process in the [Redis documentation](https://redis.io/topics/cluster-tutorial). There is a Redis Cluster configuration setup example in the \"Creating and using a Redis Cluster\" section.\nTo **monitor the cluster status** , run the following checks when connecting to one of the nodes:\n* **View the cluster configuration** with the `cluster nodes` command.\n* **Test the general cluster health** with redis-cli: `redis-cli --cluster check ClusterIP` where \"ClusterIP\" is the IP address of the node.\n## Configure Creatio to work with Redis Cluster\u200b\n1. Specify the Redis Cluster node IPs in the `ConnectionStrings.config` file:\n<add name=\"redis\" connectionString=\"clusterHosts=ClusterIP1:port1,ClusterIP2:port2,ClusterIP3:port3,ClusterIP4:port4,ClusterIP5:port5,...,ClusterIPn:portn\" />  \nwhere ClusterIP1:port1\u2013ClusterIPn:portn are the IP addresses and ports of the cluster nodes.\n2. Make sure that the `Feature-UseRetryRedisOperation` functionality is enabled in Creatio. This feature runs an internal Creatio mechanism that will retry any Redis operations that ended with errors. Check this:\n1. in the `web.config` file in Creatio root directory for Creatio on **Windows**\n2. in the `Terrasoft.WebHost.dll.config` file for Creatio on **Linux**\n<add key=\"Feature-UseRetryRedisOperation\" value=\"true\" />  \n3. Make sure that the **redis** section of the `web.config` (Windows) or `Terrasoft.WebHost.dll.config` (Linux) file uses the recommended parameters:\n* **enablePerformanceMonitor** \u2013 toggles the execution time monitoring of Redis operations. We recommend enabling this feature when debugging and troubleshooting. It is disabled by default as it may affect Creatio performance.\n* **executionTimeLoggingThresholdSec** \u2013 Creatio will log Redis operations that took longer than the specified time. By default, \"5 seconds\".\n* **clientConnectTimeoutMs** \u2013 the time allocated for establishing a network connection to the Redis server. By default, \"5000 milliseconds\".\n* **clientSyncTimeoutMs** \u2013 the time allocated for executing synchronous Redis operations. By default, \"5000 milliseconds\".\n* **clientAsyncTimeoutMs** \u2013 the time allocated for executing asynchronous Redis operations. By default, \"5000 milliseconds\".\n* **operationRetryIntervalMs** \u2013 if the internal retry process for failed operations is unsuccessful, Creatio will postpone the operation for the specified time period. After that, Creatio will run the operation with a new client which may have already established a connection to the new master instance. By default, \"5000 milliseconds\".\n* **operationRetryCount** \u2013 the number of repeated attempts to run an operation with a new Redis client. By default, \"25\".\nThese settings must have the following values:\n<redis connectionStringName=\"redis\" enablePerformanceMonitor=\"false\" executionTimeLoggingThresholdSec=\"5\" featureUseCustomRedisTimeouts=\"false\" clientRetryTimeoutMs=\"4000\" clientReceiveTimeoutMs=\"3000\" clientSendTimeoutMs=\"3000\" clientConnectTimeoutMs=\"5000\" clientSyncTimeoutMs=\"5000\" clientAsyncTimeoutMs=\"5000\" deactivatedClientsExpirySec=\"0\" operationRetryIntervalMs=\"5000\" operationRetryCount=\"25\" clientsManager=\"Terrasoft.Redis.StackExchangeAdapters.RedisClientsManagerAdapter, Terrasoft.Redis.StackExchangeAdapters\" abortOnConnectFail=\"false\" timeToCheckConfigurationSeconds=\"60\" />  \n* * *\n## See also\u200b\n[Set up Creatio caching server (Redis) on Linux](https://academy.creatio.com/documents?id=2108)\n[Set up Creatio application server on IIS](https://academy.creatio.com/documents?id=2142)\n[Creatio setup FAQ](https://academy.creatio.com/documents?id=1634)\n[System requirements calculator](https://academy.creatio.com/docs/requirements/calculator)",
  "code_examples": [
    {
      "code": "<add name=\"redis\" connectionString=\"clusterHosts=ClusterIP1:port1,ClusterIP2:port2,ClusterIP3:port3,ClusterIP4:port4,ClusterIP5:port5,...,ClusterIPn:portn\" />",
      "language": "xml",
      "context": "Specify the Redis Cluster node IPs in theConnectionStrings.configfile:",
      "tab_label": "",
      "line_count": 1
    },
    {
      "code": "<add key=\"Feature-UseRetryRedisOperation\" value=\"true\" />",
      "language": "xml",
      "context": "in theTerrasoft.WebHost.dll.configfile for Creatio onLinux",
      "tab_label": "",
      "line_count": 1
    },
    {
      "code": "<redis connectionStringName=\"redis\" enablePerformanceMonitor=\"false\" executionTimeLoggingThresholdSec=\"5\" featureUseCustomRedisTimeouts=\"false\" clientRetryTimeoutMs=\"4000\" clientReceiveTimeoutMs=\"3000\" clientSendTimeoutMs=\"3000\" clientConnectTimeoutMs=\"5000\" clientSyncTimeoutMs=\"5000\" clientAsyncTimeoutMs=\"5000\" deactivatedClientsExpirySec=\"0\" operationRetryIntervalMs=\"5000\" operationRetryCount=\"25\" clientsManager=\"Terrasoft.Redis.StackExchangeAdapters.RedisClientsManagerAdapter, Terrasoft.Redis.StackExchangeAdapters\" abortOnConnectFail=\"false\" timeToCheckConfigurationSeconds=\"60\" />",
      "language": "xml",
      "context": "These settings must have the following values:",
      "tab_label": "",
      "line_count": 1
    }
  ],
  "tables": [],
  "callouts": [
    {
      "type": "warning",
      "title": "Warning",
      "content": "ImportantThere is a risk of losing records with any configuration that replicates data asynchronously. This is because Redis Claster may have insufficient time to write data to a newly-promoted slave instance. The automatic reconfiguration that assigns a new master instance may take up to 15 seconds.",
      "html": "<div class=\"theme-admonition theme-admonition-caution alert alert--warning admonition_WoCw\"><div class=\"admonitionHeading_TMsN\">Important</div><div class=\"admonitionContent_vXIg\"><p>There is a risk of losing records with any configuration that replicates data asynchronously. This is because Redis Claster may have insufficient time to write data to a newly-promoted slave instance. The automatic reconfiguration that assigns a new master instance may take up to 15 seconds.</p></div></div>"
    },
    {
      "type": "note",
      "title": "Note",
      "content": "Important",
      "html": "<div class=\"admonitionHeading_TMsN\">Important</div>"
    },
    {
      "type": "note",
      "title": "Note",
      "content": "There is a risk of losing records with any configuration that replicates data asynchronously. This is because Redis Claster may have insufficient time to write data to a newly-promoted slave instance. The automatic reconfiguration that assigns a new master instance may take up to 15 seconds.",
      "html": "<div class=\"admonitionContent_vXIg\"><p>There is a risk of losing records with any configuration that replicates data asynchronously. This is because Redis Claster may have insufficient time to write data to a newly-promoted slave instance. The automatic reconfiguration that assigns a new master instance may take up to 15 seconds.</p></div>"
    }
  ],
  "images": [
    {
      "src": "https://academy.creatio.com/docs/sites/en/files/images/Setup_and_Administration/setup_redis_cluster/scr_redis_cluster_configuration.png",
      "alt": "Fig.\u00a01 A six-node Redis Cluster configuration",
      "title": "",
      "context": "A configuration with at least six Redis instances is recommended. Learn more about the configuration",
      "width": "",
      "height": "",
      "local_path": "creatio-docs-supplementary/images/docs_8.x_setup-and-administration_8.2_on-site-deployment_caching-server_redis-cluster_6f3ecba5c319.png"
    }
  ],
  "videos": [],
  "downloadables": [],
  "headings": [
    {
      "level": 1,
      "text": "Redis Cluster",
      "anchor": ""
    },
    {
      "level": 2,
      "text": "Redis Cluster's fault tolerance\u200b",
      "anchor": "title-2010-11"
    },
    {
      "level": 2,
      "text": "Redis Cluster system requirements\u200b",
      "anchor": "title-2010-4"
    },
    {
      "level": 2,
      "text": "Install and configure Redis Cluster\u200b",
      "anchor": "title-2010-5"
    },
    {
      "level": 3,
      "text": "Minimal fault-tolerant Redis Cluster configuration\u200b",
      "anchor": "title-2010-14"
    },
    {
      "level": 3,
      "text": "Install Redis Cluster\u200b",
      "anchor": "title-2010-15"
    },
    {
      "level": 2,
      "text": "Configure Creatio to work with Redis Cluster\u200b",
      "anchor": "title-2010-10"
    },
    {
      "level": 2,
      "text": "See also\u200b",
      "anchor": "see-also"
    }
  ],
  "api_docs": null,
  "sidebar_items": [
    {
      "href": "/docs/8.x/",
      "text": "Guides",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/caching-server/redis-cluster",
      "text": "Redis Cluster",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/on-site-deployment/caching-server/redis-cluster",
      "text": "latest version",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/on-site-deployment/caching-server/redis-cluster",
      "text": "8.1",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.0/administration/user-and-access-management/user-access-overview",
      "text": "8.0",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/administration",
      "text": "Administration",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/user-and-access-management",
      "text": "User and access management",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/licensing",
      "text": "Licensing",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/pricing-model-limits",
      "text": "Pricing model",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/logging-tools",
      "text": "Logging tools",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/security-settings",
      "text": "Security settings",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/creatio-maintenance",
      "text": "Creatio maintenance",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/on-site-deployment",
      "text": "On-site deployment",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/system-requirements",
      "text": "System requirements",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/system-requirements/client-side-system-requirements",
      "text": "Client-side",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/system-requirements/server-side-system-requirements",
      "text": "Server-side",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/general-creatio-deployment-procedure",
      "text": "General deployment procedure",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/database-server",
      "text": "Database server",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/database-server/deploy-ms-sql-database-for-creatio",
      "text": "MS SQL",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/database-server/deploy-oracle-database-for-creatio",
      "text": "Oracle",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/database-server/deploy-postgresql-database-linux",
      "text": "PostgreSQL (Linux)",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/database-server/deploy-postgresql-database-windows",
      "text": "PostgreSQL (Windows)",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/caching-server",
      "text": "Caching server",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/caching-server/general-setup-procedure-for-data-caching-server-redis",
      "text": "PreviousGeneral setup procedure",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/caching-server/set-up-secure-connection-to-redis",
      "text": "NextSet up connection",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/application-server-on-linux",
      "text": "Application server on Linux",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/application-server-on-linux/prepare-creatio-net-setup-files-on-linux",
      "text": "Prepare for installation",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/application-server-on-linux/deploy-the-creatio-net-application-on-linux",
      "text": "Installation",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/application-server-on-linux/move-creatio-net-6-to-net-8",
      "text": "Move Creatio to .NET 8",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/application-server-on-windows",
      "text": "Application server on Windows",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/application-server-on-windows/enable-required-windows-components",
      "text": "Check required components",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/application-server-on-windows/modify-connectionstrings-config-for-ms-sql-server",
      "text": "ConnectionStrings.config for MS SQL",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/application-server-on-windows/modify-connectionstrings-config-for-oracle-database",
      "text": "ConnectionStrings.config for Oracle",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/application-server-on-windows/modify-connectionstrings-config-for-postgresql",
      "text": "ConnectionStrings.config for PostgreSQL",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/application-server-on-windows/modify-web-config",
      "text": "Set up Web.config",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/application-server-on-windows/deploy-creatio-application-server-on-iis",
      "text": "Set up IIS",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/application-server-on-windows/set-up-websockets",
      "text": "Set up WebSockets",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/application-server-on-windows/switch-creatio-website-from-http-to-https",
      "text": "Switch Creatio to HTTPS",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/additional-setup",
      "text": "Additional setup",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/deployment-additional-setup/application-server-web-farm",
      "text": "Application server web-farm",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/deployment-additional-setup/google-integration",
      "text": "Google integration",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/file-storage",
      "text": "File storage",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/deployment-additional-setup/data-enrichment-service",
      "text": "Data enrichment service",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/deployment-additional-setup/chat-access-setup",
      "text": "Chat access",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/deployment-additional-setup/sase-resolution-notifications",
      "text": "Case notifications",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/deployment-additional-setup/secure-access-to-the-portal",
      "text": "Secure access to the portal",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/deployment-additional-setup/version-control-system-for-development-environments",
      "text": "Version control system",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/deployment-additional-setup/landing-page-integration",
      "text": "Landing page integration",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/deployment-additional-setup/rabbit-mq",
      "text": "RabbitMQ",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/identity-service",
      "text": "Identity Service",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/\u0441ontainerized-components",
      "text": "\u0421ontainerized components",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/containerized-components/global-search",
      "text": "Global search",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/containerized-components/global-search-and-deduplication-faq",
      "text": "Global search FAQ",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/containerized-components/bulk-duplicate-search",
      "text": "Bulk duplicate search",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/containerized-components/email-listener-synchronization-service",
      "text": "Email Listener",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/containerized-components/machine-learning-service",
      "text": "Machine learning service",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/category/faq",
      "text": "FAQ",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/deployment-faq/framework-compatibility",
      "text": "Framework compatibility",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/deployment-faq/creatio-net-products",
      "text": "Creatio .NET products",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/on-site-deployment/deployment-faq/creatio-setup-faq",
      "text": "Creatio setup",
      "active": false
    },
    {
      "href": "https://academy.creatio.com/docs/requirements/calculator",
      "text": "System requirements calculator",
      "active": false
    }
  ],
  "related_links": [],
  "version": "8.x",
  "crawled_at": "2026-01-15T07:58:34.427811"
}