/* Declare the AMD module. */define("UsrRequests_FormPage", /**SCHEMA_DEPS*/[]/**SCHEMA_DEPS*/, function/**SCHEMA_ARGS*/()/**SCHEMA_ARGS*/ {    return {        viewConfigDiff: /**SCHEMA_VIEW_CONFIG_DIFF*/[            {                "operation": "merge",                "name": "Feed",                "values": {                    "dataSourceName": "PDS",                    "entitySchemaName": "UsrRequests"                }            },            {                "operation": "merge",                "name": "AttachmentList",                "values": {                    "columns": [                        {                            "id": "482ec12e-1a66-42c2-8555-97320be8218f",                            "code": "AttachmentListDS_Name",                            "caption": "#ResourceString(AttachmentListDS_Name)#",                            "dataValueType": 28,                            "width": 200                        }                    ]                }            },            {                "operation": "insert",                "name": "UsrName",                "values": {                    "layoutConfig": {                        "column": 1,                        "row": 1,                        "colSpan": 1,                        "rowSpan": 1                    },                    "type": "crt.Input",                    "label": "$Resources.Strings.UsrName",                    "control": "$UsrName",                    "labelPosition": "auto"                },                "parentName": "SideAreaProfileContainer",                "propertyName": "items",                "index": 0            },            /* Field that contains the applicant. */            {                "operation": "insert",                "name": "UsrApplicant",                "values": {                    "layoutConfig": {                        "column": 1,                        "row": 2,                        "colSpan": 1,                        "rowSpan": 1                    },                    "type": "crt.ComboBox",                    "label": "$Resources.Strings.UsrApplicant",                    "labelPosition": "auto",                    "control": "$UsrApplicant",                    "listActions": [],                    "showValueAsLink": true,                    "controlActions": [],                    /* The property that locks the field from editing. Bound to the "IsApplicantReadonly" attribute. */                    "readonly": "$IsApplicantReadonly"                },                "parentName": "SideAreaProfileContainer",                "propertyName": "items",                "index": 1            },            {                "operation": "insert",                "name": "addRecord_9v1t0rt",                "values": {                    "code": "addRecord",                    "type": "crt.ComboboxSearchTextAction",                    "icon": "combobox-add-new",                    "caption": "#ResourceString(addRecord_9v1t0rt_caption)#",                    "clicked": {                        "request": "crt.CreateRecordFromLookupRequest",                        "params": {}                    }                },                "parentName": "UsrApplicant",                "propertyName": "listActions",                "index": 0            },            /* Field that contains the request status. */            {                "operation": "insert",                "name": "UsrStatus",                "values": {                    "layoutConfig": {                        "column": 1,                        "row": 3,                        "colSpan": 1,                        "rowSpan": 1                    },                    "type": "crt.ComboBox",                    "label": "$Resources.Strings.UsrStatus",                    "labelPosition": "auto",                    "control": "$UsrStatus",                    "listActions": [],                    "showValueAsLink": true,                    "controlActions": []                },                "parentName": "SideAreaProfileContainer",                "propertyName": "items",                "index": 2            },            {                "operation": "insert",                "name": "addRecord_o9dih24",                "values": {                    "code": "addRecord",                    "type": "crt.ComboboxSearchTextAction",                    "icon": "combobox-add-new",                    "caption": "#ResourceString(addRecord_o9dih24_caption)#",                    "clicked": {                        "request": "crt.CreateRecordFromLookupRequest",                        "params": {}                    }                },                "parentName": "UsrStatus",                "propertyName": "listActions",                "index": 0            }        ]/**SCHEMA_VIEW_CONFIG_DIFF*/,        viewModelConfigDiff: /**SCHEMA_VIEW_MODEL_CONFIG_DIFF*/[            {                "operation": "merge",                "path": [                    "attributes"                ],                "values": {                    "UsrName": {                        "modelConfig": {                            "path": "PDS.UsrName"                        }                    },                    "UsrApplicant": {                        "modelConfig": {                            "path": "PDS.UsrApplicant"                        }                    },                    "UsrStatus": {                        "modelConfig": {                            "path": "PDS.UsrStatus"                        }                    },                    /* The attribute that stores the contact permission to edit the "Applicant" field. */                    "IsApplicantReadonly": {}                }            },            {                "operation": "merge",                "path": [                    "attributes",                    "Id",                    "modelConfig"                ],                "values": {                    "path": "PDS.Id"                }            }        ]/**SCHEMA_VIEW_MODEL_CONFIG_DIFF*/,        modelConfigDiff: /**SCHEMA_MODEL_CONFIG_DIFF*/[            {                "operation": "merge",                "path": [],                "values": {                    "primaryDataSourceName": "PDS"                }            },            {                "operation": "merge",                "path": [                    "dataSources"                ],                "values": {                    "PDS": {                        "type": "crt.EntityDataSource",                        "config": {                            "entitySchemaName": "UsrRequests"                        },                        "scope": "page"                    }                }            }        ]/**SCHEMA_MODEL_CONFIG_DIFF*/,        handlers: /**SCHEMA_HANDLERS*/[            {                request: "crt.HandleViewModelAttributeChangeRequest",                /* The custom implementation of the base request handler. */                handler: async (request, next) => {                    /* Check the request status. */                    if (request.attributeName === 'UsrStatus') {                        const completedStatusId = '81ce50d9-03af-42f4-977d-d7fa3a8f151d';                        const selectedStatus = await request.$context.UsrStatus;                        const selectedStatusId = selectedStatus?.value;                        const isRequestCompleted = selectedStatusId === completedStatusId;                        /* If the request status is "Completed", set the "IsApplicantReadonly" to "true." */                        request.$context.IsApplicantReadonly = isRequestCompleted;                    }                    /* Call the next handler if it exists and return its result. */                    return next?.handle(request);                }            }        ]/**SCHEMA_HANDLERS*/,        converters: /**SCHEMA_CONVERTERS*/{}/**SCHEMA_CONVERTERS*/,        validators: /**SCHEMA_VALIDATORS*/{}/**SCHEMA_VALIDATORS*/    };});