/* Declare the AMD module. */define("UsrAppRequests_FormPage", /**SCHEMA_DEPS*/[]/**SCHEMA_DEPS*/, function/**SCHEMA_ARGS*/()/**SCHEMA_ARGS*/ {    return {        viewConfigDiff: /**SCHEMA_VIEW_CONFIG_DIFF*/[            {                "operation": "insert",                "name": "UsrName",                "values": {                    "layoutConfig": {                        "column": 1,                        "row": 1,                        "colSpan": 1,                        "rowSpan": 1                    },                    "type": "crt.Input",                    "label": "$Resources.Strings.UsrName",                    "control": "$UsrName"                },                "parentName": "LeftAreaProfileContainer",                "propertyName": "items",                "index": 0            },            /* Field that contains the applicant. */            {                "operation": "insert",                "name": "UsrApplicant",                "values": {                    "layoutConfig": {                        "column": 1,                        "row": 2,                        "colSpan": 1,                        "rowSpan": 1                    },                    "type": "crt.ComboBox",                    "loading": false,                    "control": "$UsrApplicant",                    "label": "$Resources.Strings.UsrApplicant",                    "items": "$UsrApplicant_List",                    "attributeName": "UsrApplicant",                    "isAddAllowed": true,                    "showValueAsLink": true,                    /* The property that locks the field from editing. Bound to the "IsApplicantReadonly" attribute. */                    "readonly": "$IsApplicantReadonly"                },                "parentName": "LeftAreaProfileContainer",                "propertyName": "items",                "index": 1            },            /* Field that contains the request status. */            {                "operation": "insert",                "name": "UsrStatus",                "values": {                    "layoutConfig": {                        "column": 1,                        "row": 3,                        "colSpan": 1,                        "rowSpan": 1                    },                    "type": "crt.ComboBox",                    "loading": false,                    "control": "$UsrStatus",                    "label": "$Resources.Strings.UsrStatus",                    "items": "$UsrStatus_List",                    "attributeName": "UsrStatus",                    "isAddAllowed": true,                    "showValueAsLink": true                },                "parentName": "LeftAreaProfileContainer",                "propertyName": "items",                "index": 2            }        ]/**SCHEMA_VIEW_CONFIG_DIFF*/,        viewModelConfig: /**SCHEMA_VIEW_MODEL_CONFIG*/{            "attributes": {                "UsrName": {                    "modelConfig": {                        "path": "PDS.UsrName"                    }                },                "Id": {                    "modelConfig": {                        "path": "PDS.Id"                    }                },                "UsrApplicant": {                    "modelConfig": {                        "path": "PDS.UsrApplicant"                    }                },                "UsrApplicant_List": {                    "isCollection": true,                    "viewModelConfig": {                        "attributes": {                            "value": {                                "modelConfig": {                                    "path": "UsrApplicant_List_DS.Id"                                }                            },                            "displayValue": {                                "modelConfig": {                                    "path": "UsrApplicant_List_DS.Name"                                }                            }                        }                    },                    "modelConfig": {                        "path": "UsrApplicant_List_DS",                        "sortingConfig": {                            "attributeName": "UsrApplicant_List_Sorting",                            "default": [                                {                                    "columnName": "Name",                                    "direction": "asc"                                }                            ]                        },                        "pagingConfig": {                            "rowCount": 50,                            "rowsOffset": null                        }                    },                    "embeddedModel": {                        "name": "UsrApplicant_List_DS",                        "config": {                            "type": "crt.EntityDataSource",                            "config": {                                "entitySchemaName": "Contact"                            }                        }                    }                },                "UsrApplicant_List_Sorting": {                    "isCollection": true,                    "viewModelConfig": {                        "attributes": {                            "columnName": {},                            "direction": {}                        }                    }                },                "UsrStatus": {                    "modelConfig": {                        "path": "PDS.UsrStatus"                    }                },                "UsrStatus_List": {                    "isCollection": true,                    "viewModelConfig": {                        "attributes": {                            "value": {                                "modelConfig": {                                    "path": "UsrStatus_List_DS.Id"                                }                            },                            "displayValue": {                                "modelConfig": {                                    "path": "UsrStatus_List_DS.Name"                                }                            }                        }                    },                    "modelConfig": {                        "path": "UsrStatus_List_DS",                        "sortingConfig": {                            "attributeName": "UsrStatus_List_Sorting",                            "default": [                                {                                    "columnName": "Name",                                    "direction": "asc"                                }                            ]                        },                        "pagingConfig": {                            "rowCount": 50,                            "rowsOffset": null                        }                    },                    "embeddedModel": {                        "name": "UsrStatus_List_DS",                        "config": {                            "type": "crt.EntityDataSource",                            "config": {                                "entitySchemaName": "UsrRequestStatusLookup"                            }                        }                    }                },                "UsrStatus_List_Sorting": {                    "isCollection": true,                    "viewModelConfig": {                        "attributes": {                            "columnName": {},                            "direction": {}                        }                    }                },                /* The attribute that stores the contact permission to edit the "Applicant" field. */                "IsApplicantReadonly": {}            }        }/**SCHEMA_VIEW_MODEL_CONFIG*/,        modelConfig: /**SCHEMA_MODEL_CONFIG*/{            "dataSources": {                "PDS": {                    "type": "crt.EntityDataSource",                    "config": {                        "entitySchemaName": "UsrAppRequests"                    }                }            }        }/**SCHEMA_MODEL_CONFIG*/,        handlers: /**SCHEMA_HANDLERS*/[            {                request: "crt.HandleViewModelAttributeChangeRequest",                /* The custom implementation of the system request handler. */                handler: async (request, next) => {                    /* Check the request status. */                    if (request.attributeName === 'UsrStatus') {                        const completedStatusId = 'dc326b2e-264d-45d0-bbf5-ea8ea1ce5e0c';                        const selectedStatus = await request.$context.UsrStatus;                        const selectedStatusId = selectedStatus?.value;                        const isRequestCompleted = selectedStatusId === completedStatusId;                        /* If the request status is "Completed", set the "IsApplicantReadonly" to "true." */                        request.$context.IsApplicantReadonly = isRequestCompleted;                    }                    /* Call the next handler if it exists and return its result. */                    return next?.handle(request);                }            }        ]/**SCHEMA_HANDLERS*/,        converters: /**SCHEMA_CONVERTERS*/{}/**SCHEMA_CONVERTERS*/,        validators: /**SCHEMA_VALIDATORS*/{}/**SCHEMA_VALIDATORS*/    };});