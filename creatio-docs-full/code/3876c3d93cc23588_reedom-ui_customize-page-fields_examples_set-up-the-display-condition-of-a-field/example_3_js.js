/* AMD module declaration. */define("UsrAppRequests_FormPage", /**SCHEMA_DEPS*/[]/**SCHEMA_DEPS*/, function/**SCHEMA_ARGS*/()/**SCHEMA_ARGS*/ {    return {        viewConfigDiff: /**SCHEMA_VIEW_CONFIG_DIFF*/[            {                "operation": "merge",                "name": "Feed",                "values": {                    "dataSourceName": "PDS",                    "entitySchemaName": "UsrRequests"                }            },            {                "operation": "merge",                "name": "AttachmentList",                "values": {                    "columns": [                        {                            "id": "7692c437-8b98-4ccc-8c25-c8e4d235795e",                            "code": "AttachmentListDS_Name",                            "caption": "#ResourceString(AttachmentListDS_Name)#",                            "dataValueType": 28,                            "width": 200                        }                    ]                }            },            {                "operation": "insert",                "name": "UsrName",                "values": {                    "layoutConfig": {                        "column": 1,                        "row": 1,                        "colSpan": 1,                        "rowSpan": 1                    },                    "type": "crt.Input",                    "label": "$Resources.Strings.UsrName",                    "control": "$UsrName",                    "labelPosition": "auto"                },                "parentName": "SideAreaProfileContainer",                "propertyName": "items",                "index": 0            },            /* Field that contains the request originator type. */            {                "operation": "insert",                "name": "UsrOriginatorType",                "values": {                    "layoutConfig": {                        "column": 1,                        "row": 2,                        "colSpan": 1,                        "rowSpan": 1                    },                    "type": "crt.ComboBox",                    "label": "$Resources.Strings.UsrOriginatorType",                    "labelPosition": "auto",                    "control": "$UsrOriginatorType",                    "listActions": [],                    "showValueAsLink": true,                    "controlActions": []                },                "parentName": "SideAreaProfileContainer",                "propertyName": "items",                "index": 1            },            {                "operation": "insert",                "name": "addRecord_ul85ru4",                "values": {                    "code": "addRecord",                    "type": "crt.ComboboxSearchTextAction",                    "icon": "combobox-add-new",                    "caption": "#ResourceString(addRecord_ul85ru4_caption)#",                    "clicked": {                        "request": "crt.CreateRecordFromLookupRequest",                        "params": {}                    }                },                "parentName": "UsrOriginatorType",                "propertyName": "listActions",                "index": 0            },            /* Field that contains the number of sick days left. */            {                "operation": "insert",                "name": "UsrSickDaysLeft",                "values": {                    "layoutConfig": {                        "column": 1,                        "row": 3,                        "colSpan": 1,                        "rowSpan": 1                    },                    "type": "crt.NumberInput",                    "label": "$Resources.Strings.UsrSickDaysLeft",                    "labelPosition": "auto",                    "control": "$UsrSickDaysLeft",                    /* The property that flags the field as visible. Bound to the "IsRequestFromEmployee" attribute. */                    "visible": "$IsRequestFromEmployee"                },                "parentName": "SideAreaProfileContainer",                "propertyName": "items",                "index": 2            }        ]/**SCHEMA_VIEW_CONFIG_DIFF*/,        viewModelConfig: /**SCHEMA_VIEW_MODEL_CONFIG*/[            "attributes": {                "UsrName": {                    "modelConfig": {                        "path": "PDS.UsrName"                    }                },                "UsrOriginatorType": {                    "modelConfig": {                        "path": "PDS.UsrOriginatorType"                    }                },                "UsrSickDaysLeft": {                    "modelConfig": {                        "path": "PDS.UsrSickDaysLeft"                    }                },                "UsrOriginatorType_List": {                    "isCollection": true,                    "viewModelConfig": {                        "attributes": {                            "value": {                                "modelConfig": {                                    "path": "UsrOriginatorType_List_DS.Id"                                }                            },                            "displayValue": {                                "modelConfig": {                                    "path": "UsrOriginatorType_List_DS.Name"                                }                            }                        }                    },                    "modelConfig": {                        "path": "UsrOriginatorType_List_DS",                        "sortingConfig": {                            "attributeName": "UsrOriginatorType_List_Sorting",                            "default": [                                {                                    "columnName": "Name",                                    "direction": "asc"                                }                            ]                        },                        "pagingConfig": {                            "rowCount": 50,                            "rowsOffset": null                        }                    },                    "embeddedModel": {                        "name": "UsrOriginatorType_List_DS",                        "config": {                            "type": "crt.EntityDataSource",                            "config": {                                "entitySchemaName": "ContactType"                            }                        }                    }                },                "UsrOriginatorType_List_Sorting": {                    "isCollection": true,                    "viewModelConfig": {                        "attributes": {                            "columnName": {},                            "direction": {}                        }                    }                },                /* The attribute that stores the request originator type. */                "IsRequestFromEmployee": {}            },        ]/**SCHEMA_VIEW_MODEL_CONFIG*/,        modelConfig: /**SCHEMA_MODEL_CONFIG*/[            "PDS": {                "type": "crt.EntityDataSource",                "config": {                    "entitySchemaName": "UsrRequests"                }            }        ]/**SCHEMA_MODEL_CONFIG*/,        handlers: /**SCHEMA_HANDLERS*/[            {            request: "crt.HandleViewModelAttributeChangeRequest",            /* The custom implementation of the system request handler. */            handler: async (request, next) => {                /* Check the request originator type. */                if (request.attributeName === 'UsrOriginatorType') {                    const employeeOriginatorTypeId = '60733efc-f36b-1410-a883-16d83cab0980';                    const selectedOriginatorType = await request.$context.UsrOriginatorType;                    const selectedOriginatorTypeId = selectedOriginatorType?.value;                    /* If the request originates from an employee, set the "IsRequestFromEmployee" to "true." */                    request.$context.IsRequestFromEmployee = selectedOriginatorTypeId === employeeOriginatorTypeId;                }                /* Call the next handler if it exists and return its result. */                return next?.handle(request);            }        }        ]/**SCHEMA_HANDLERS*/,        converters: /**SCHEMA_CONVERTERS*/{}/**SCHEMA_CONVERTERS*/,        validators: /**SCHEMA_VALIDATORS*/{}/**SCHEMA_VALIDATORS*/    };});