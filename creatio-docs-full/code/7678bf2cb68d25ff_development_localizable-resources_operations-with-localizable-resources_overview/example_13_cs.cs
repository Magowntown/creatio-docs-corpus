/* The user connection. */var userConnection = (UserConnection)HttpContext.Current.Session["UserConnection"];/* Create an EntitySchemaQuery instance that has the "City" root schema. */var esqResult = new EntitySchemaQuery(userConnection.EntitySchemaManager, "City");/* Add a column to the query. */esqResult.AddColumn("Name");/* Turn off receiving localizable resources. */esqResult.UseLocalization = false;/* Execute a database query and retrieve the resulting object collection. */var entities = esqResult.GetEntityCollection(userConnection);/* Retrieve the query text. */var s = esqResult.GetSelectQuery(userConnection).GetSqlText();/* Return the result. */return s;