namespace Terrasoft.Configuration.Omnichannel.Messaging{    using OmnichannelProviders;    using OmnichannelProviders.Domain.Entities;    using OmnichannelProviders.MessageConverters;    using Terrasoft.Core;    #region Class: SomeProviderAttachmentLoadWorker    /* Load attachments from the "SomeProvider" provider. */    public class SomeProviderAttachmentLoadWorker : IAttachmentsLoadWorker    {        #region Properties: Protected         protected UserConnection UserConnection;        protected AttachmentsDownloader AttachmentsDownloader;        #endregion        #region Constructors: Public        /* Initialize a new "SomeProviderAttachmentLoadWorker" class instance. */        public SomeProviderAttachmentLoadWorker(UserConnection userConnection) {            UserConnection = userConnection;            AttachmentsDownloader = new AttachmentsDownloader(userConnection);        }        #endregion        #region Methods: Public         /* Load the attachments.        The "incomeAttachment" parameter is the attachment from the messenger.        The "message" parameter is the source message. */        public void Load(MessageAttachment incomeAttachment, UnifiedMessage message) {            incomeAttachment.FileName = FileUtilities.GetFileNameFromUrl(incomeAttachment.UploadUrl);            incomeAttachment.FileId = AttachmentsDownloader.Load(incomeAttachment);        }        #endregion    }    #endregion}