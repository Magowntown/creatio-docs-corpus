namespace Terrasoft.Configuration.Omnichannel.Messaging{    using Newtonsoft.Json;    using Newtonsoft.Json.Serialization;    using OmnichannelProviders.Application.Http;    using OmnichannelProviders.Domain.Entities;    using OmnichannelProviders.MessageWorkers;    using Terrasoft.Core;    #region Class: SomeProviderOutcomeMessageWorker    /* Send messages to the "SomeProvider" provider. */    public class SomeProviderOutcomeMessageWorker : IOutcomeMessageWorker    {        #region Properties: Protected         protected UserConnection UserConnection;        private readonly string _someChannelProviderNameProviderApiUrl = "https://somechannelprovider.api";        #endregion        #region Constructors: Public        /* Initialize a new "SomeProviderOutcomeMessageWorker" class instance. */        public SomeProviderOutcomeMessageWorker(UserConnection userConnection) {            UserConnection = userConnection;        }        #endregion        #region Methods: Public        /* Send the message to the "SomeProvider" provider.        The "message" parameter is the unified message. */        public string SendMessage(UnifiedMessage unifiedMessage, out bool success) {            var serializerSettings = new JsonSerializerSettings();            serializerSettings.ContractResolver = new CamelCasePropertyNamesContractResolver();            var json = JsonConvert.SerializeObject(unifiedMessage, serializerSettings);            var requestUrl = string.Concat(_someChannelProviderNameProviderApiUrl, json);            var result = new HttpRequestSender().PostAsync(requestUrl, json).Result;            success = true;            return result;        }        public string PassControlToPrimaryReceiver(UnifiedMessage message) {            return string.Empty;        }        #endregion    }    #endregion}