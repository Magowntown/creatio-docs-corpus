namespace Terrasoft.Configuration.Omnichannel.Messaging{    using OmnichannelProviders.Domain.Entities;    using System;    using System.Collections.Generic;    public class SomeProviderIncomingMessage : UnifiedMessage    { }    public static class SomeProviderIncomingMessageConverter    {        #region Methods: Public         public static MessagingMessage Convert(SomeProviderIncomingMessage message) {            var messageType = MessageType.Text;            var messageId = Guid.NewGuid();            var result = new MessagingMessage {                Id = messageId,                Message = message.Message,                /* The message recipient is the ID of the page or client added to "Source" column in the "Channel" database table. */                Recipient = message.Recipient,                /* The ID of the message sender in the messenger. The sender is bound to the contact via the "ContactIdentity" database table. */                Sender = message.Sender,                Timestamp = message.Timestamp,                /* The channel ID in Creatio specified in the "MsgSettingsid" object field. */                ChannelId = message.ChannelId,                MessageDirection = MessageDirection.Incoming,                MessageType = messageType,                /* The channel source. */                Source = ChannelType.ThirdParty,                /* The provider name that is used as the provider ID. */                ChannelName = "SomeProvider"            };            if (messageType != MessageType.Text) {                /* The "Attachments" block is populated depending on the file access format provided by the messenger. In this case, it is a link to download. Fill out the "FileId" parameter value in the message to make the file available for download. */                result.Attachments = new List<MessageAttachment>();                foreach (var attachment in message.Attachments){                    result.Attachments.Add(new MessageAttachment {                        MessageId = messageId,                        UploadUrl = attachment.UploadUrl,                        FileType = attachment.FileType                    });                }            }            return result;        }        #endregion    }}