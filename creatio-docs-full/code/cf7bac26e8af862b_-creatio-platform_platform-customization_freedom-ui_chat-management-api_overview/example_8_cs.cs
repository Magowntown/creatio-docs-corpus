namespace Terrasoft.Configuration.Omnichannel.Messaging {using System;using System.Collections.Generic;using Terrasoft.Core;using Terrasoft.Core.DB;#region Class: SomeChatRoutingpublic class SomeChatRouting: BaseOperatorRoutingRule {    #region Constructors: Public    /* Route the chat to the Supervisor system user. */    public CustomChatRoutingRule(UserConnection userConnection) : base(userConnection) {}    #endregion    #region Methods: Protected    /* Match agent IDs to chat IDs. */    protected override List<Guid> PickUpFreeQueueOperators(Guid chatId, Guid queueId) {        return new List<Guid> {            /* ID of Supervisor system user. */            Guid.Parse("7f3b869f-34f3-4f20-ab4d-7480a5fdf647")        };    }    /* Return agent ID using chat ID. */    protected override Guid GetChatOperator(Guid chatId) {        Guid operatorId = (new Select(UserConnection).Column("OperatorId").From("OmniChat", "oc").Where("oc", "Id").IsEqual(Column.Parameter(chatId))        as Select).ExecuteScalar<Guid>();        return operatorId;    }    #endregion}#endregion}