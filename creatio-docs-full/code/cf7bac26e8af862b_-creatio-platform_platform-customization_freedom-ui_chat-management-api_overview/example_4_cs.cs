namespace Terrasoft.Configuration.Omnichannel.Messaging{    using Newtonsoft.Json;    using OmnichannelProviders.Domain.Entities;    using OmnichannelProviders.Interfaces;    using System.IO;    using System.Net;    using Terrasoft.Core;    public class SomeProviderProfileData {        public string first_name { get; set; }        public string last_name { get; set; }    }    #region Class: SomeProviderProfileData    /* Retrieve the profile data from the "SomeProvider" provider. */    public class SomeProviderProfileData : IProfileDataProvider    {        #region Properties: Private         private readonly string _someProviderUrl = "https://somechannelprovider.api/";        #endregion        #region Constructors: Public         /* Initialize a new "FacebookProfileDataProvider" class instance. */        public SomeProviderProfileData(UserConnection userConnection)        { }        #endregion        #region Methods: Public        /* Retrieve the profile data from Facebook.        The "profileId" parameter is the Facebook profile ID.        The "channelId" parameter is the channel from which the request was sent.        Return the contact ID. */        public ProfileData GetProfileDataByProfileId(string profileId, string channelId)    {            var requestUrl = string.Concat(_someChannelProviderNameProviderApiUrl, profileId);            WebRequest request = WebRequest.Create(requestUrl);            try {                using (var response = request.GetResponse()) {                    using (Stream stream = response.GetResponseStream()) {                        using (StreamReader sr = new StreamReader(stream)) {                            var someChannelProviderNameProfile = JsonConvert.DeserializeObject<SomeChannelProviderNameProfileData>(sr.ReadToEnd());                            return new ProfileData {                                FirstName = someChannelProviderNameProfile.first_name,                                LastName = someChannelProviderNameProfile.last_name,                            };                        }                    }                }            }            catch {                return new ProfileData();            }        }        #endregion    }    #endregion}