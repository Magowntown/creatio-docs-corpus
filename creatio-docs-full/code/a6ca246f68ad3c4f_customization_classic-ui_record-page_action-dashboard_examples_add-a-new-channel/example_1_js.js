define("SectionActionsDashboard", ["SectionActionsDashboardResources", "UsrCallsMessagePublisherModule"], function(resources) {    return {        attributes: {},        messages: {},        methods: {            // Method sets the channel tab display settings in the action dashboard.            getExtendedConfig: function() {                // Parent method calling.                var config = this.callParent(arguments);                var lczImages = resources.localizableImages;                config.CallsMessageTab = {                    // Tab image.                    "ImageSrc": this.Terrasoft.ImageUrlBuilder.getUrl(lczImages.CallsMessageTabImage),                    // Marker value.                    "MarkerValue": "calls-message-tab",                    // Alignment.                    "Align": this.Terrasoft.Align.RIGHT,                    // Tag.                    "Tag": "UsrCalls"                };                return config;            },            // Redefines the parent object and adds the contact value from the edit page            // of the section that contains the action dashboard.            onGetRecordInfoForPublisher: function() {                var info = this.callParent(arguments);                info.additionalInfo.contact = this.getContactEntityParameterValue(info.relationSchemaName);                return info;            },            // Defines the contact value from the section edit page            // that contains the action dashboard.            getContactEntityParameterValue: function(relationSchemaName) {                var contact;                if (relationSchemaName === "Contact") {                    var id = this.getMasterEntityParameterValue("Id");                    var name = this.getMasterEntityParameterValue("Name");                    if (id && name) {                        contact = {value: id, displayValue: name};                    }                } else {                    contact = this.getMasterEntityParameterValue("Contact");                }                return contact;            },            //Adds the created channel to the message publisher list.            getSectionPublishers: function() {                var publishers = this.callParent(arguments);                publishers.push("UsrCalls");                return publishers;            }        },        // An array of modifications, with which the representation of the module is built in the interface of the system.        diff: /**SCHEMA_DIFF*/[            // Adding the CallsMessageTab tab.            {                // operation type – insertion.                "operation": "insert",                // Tab name.                "name": "CallsMessageTab",                // Parent element name.                "parentName": "Tabs",                // Property name.                "propertyName": "tabs",                // Property configuration object.                "values": {                    // Child elements array.                    "items": []                }            },            // Adding message container.            {                "operation": "insert",                "name": "CallsMessageTabContainer",                "parentName": "CallsMessageTab",                "propertyName": "items",                "values": {                    // Element type – container.                    "itemType": this.Terrasoft.ViewItemType.CONTAINER,                    // Container CSS class.                    "classes": {                        "wrapClassName": ["calls-message-content"]                    },                    "items": []                }            },            // Adding the UsrCallsMessageModule module.            {                "operation": "insert",                "name": "UsrCallsMessageModule",                "parentName": "CallsMessageTab",                "propertyName": "items",                "values": {                    // Tab module CSS class.                    "classes": {                        "wrapClassName": ["calls-message-module", "message-module"]                    },                    // Element type – module.                    "itemType": this.Terrasoft.ViewItemType.MODULE,                    // Module name.                    "moduleName": "UsrCallsMessagePublisherModule",                    // Binding the method executed after the element has been rendered.                    "afterrender": {                        "bindTo": "onMessageModuleRendered"                    },                    // Binding the method executed after the element has been rerendered.                    "afterrerender": {                        "bindTo": "onMessageModuleRendered"                    }                }            }        ]/**SCHEMA_DIFF*/    };});