/* Declare the AMD module. */define("Contacts_FormPage", /**SCHEMA_DEPS*/["@creatio-devkit/common"]/**SCHEMA_DEPS*/, function/**SCHEMA_ARGS*/(sdk)/**SCHEMA_ARGS*/ {    return {        viewConfigDiff: /**SCHEMA_VIEW_CONFIG_DIFF*/[            {                "operation": "remove",                "name": "AddressSearchFilter",                "properties": [                    "targetAttributes"                ]            },            {                "operation": "merge",                "name": "AddressSearchFilter",                "values": {                    "_filterOptions": {                        "expose": [                            {                                "attribute": "AddressSearchFilter_AddressList",                                "converters": [                                    {                                        "converter": "crt.SearchFilterAttributeConverter",                                        "args": [                                            "AddressList"                                        ]                                    }                                ]                            }                        ],                        "from": [                            "AddressSearchFilter_SearchValue",                            "AddressSearchFilter_FilteredColumnsGroups"                        ]                    }                }            },            {                "operation": "remove",                "name": "CareerSearchFilter",                "properties": [                    "targetAttributes"                ]            },            {                "operation": "merge",                "name": "CareerSearchFilter",                "values": {                    "_filterOptions": {                        "expose": [                            {                                "attribute": "CareerSearchFilter_CareerList",                                "converters": [                                    {                                        "converter": "crt.SearchFilterAttributeConverter",                                        "args": [                                            "CareerList"                                        ]                                    }                                ]                            }                        ],                        "from": [                            "CareerSearchFilter_SearchValue",                            "CareerSearchFilter_FilteredColumnsGroups"                        ]                    }                }            },            /* Button that calls the "UsrReceiveContactDataService" custom web service. */            {                "operation": "insert",                "name": "ShowContactIdButton",                "values": {                    "type": "crt.Button",                    "caption": "#ResourceString(ShowContactIdButton_caption)#",                    "color": "accent",                    "disabled": false,                    "size": "large",                    "iconPosition": "only-text",                    "visible": true,                    "clicked": {                        /* Bind the sending of the base request to the "clicked" button event. */                        "request": "crt.ShowDialog"                    }                },                "parentName": "ActionButtonsContainer",                "propertyName": "items",                "index": 1            }        ]/**SCHEMA_VIEW_CONFIG_DIFF*/,        viewModelConfigDiff: /**SCHEMA_VIEW_MODEL_CONFIG_DIFF*/[            {                "operation": "merge",                "path": [                    "attributes"                ],                "values": {                    "PDS_Name_bckhanw": {                        "modelConfig": {                            "path": "PDS.Name"                        }                    }                }            },            {                "operation": "merge",                "path": [                    "attributes",                    "AddressList",                    "modelConfig"                ],                "values": {                    "filterAttributes": [                        {                            "name": "AddressList_PredefinedFilter",                            "loadOnChange": true                        },                        {                            "name": "AddressSearchFilter_AddressList",                            "loadOnChange": true                        }                    ],                    /* The attribute that stores data of the contact ID. */                    "ContactID": {},                }            },            {                "operation": "merge",                "path": [                    "attributes",                    "CareerList",                    "modelConfig"                ],                "values": {                    "filterAttributes": [                        {                            "name": "CareerSearchFilter_CareerList",                            "loadOnChange": true                        }                    ]                }            }        ]/**SCHEMA_VIEW_MODEL_CONFIG_DIFF*/,        modelConfigDiff: /**SCHEMA_MODEL_CONFIG_DIFF*/[]/**SCHEMA_MODEL_CONFIG_DIFF*/,        handlers: /**SCHEMA_HANDLERS*/[            {                request: "crt.ShowDialog",                /* The custom implementation of the base request handler. */                handler: async (request, next) => {                    /* Create an instance of the HTTP client from "@creatio-devkit/common." */                    const httpClientService = new sdk.HttpClientService();                    /* Specify the URL to retrieve the contact information by the specified name. Use the "UsrReceiveContactDataService" web service. */                    const endpoint = "/rest/UsrReceiveContactDataService/GetContactIdByName?Name=";                    /* Retrieve the contact name from the response and specify the contact name in the "ContactName" variable. */                    const ContactName = await request.$context.PDS_Name_bckhanw;                    /* Send a GET request. The HTTP client converts the response body from JSON to a JS object automatically. */                    const response = await httpClientService.get(`${endpoint}`+ ContactName);                    /* Retrieve the contact ID from the response and specify the contact ID in the "ContactID" attribute. */                    request.$context.ContactID = response?.body?.GetContactIdByNameResult;                    /* Create an instance of the dialog service from "@creatio-devkit/common." */                    const dialogService = new sdk.DialogService();                    /* Display the response from the "UsrReceiveContactDataService" web service in the dialog window. */                    const result = await dialogService.open({                        message: request.$context.ContactID,                        actions: [                            {                                key: 'Yes',                                config: {                                    color: 'primary',                                    caption: 'Close',                                }                            },                        ]                    });                    /* Call the next handler if it exists and return its result. */                    return next?.handle(request);                },            },        ]/**SCHEMA_HANDLERS*/,        converters: /**SCHEMA_CONVERTERS*/{}/**SCHEMA_CONVERTERS*/,        validators: /**SCHEMA_VALIDATORS*/{}/**SCHEMA_VALIDATORS*/    };});