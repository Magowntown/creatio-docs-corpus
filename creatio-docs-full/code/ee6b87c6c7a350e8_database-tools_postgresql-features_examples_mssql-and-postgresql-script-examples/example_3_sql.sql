-- Use the RULE instead of the INSTEAD OF trigger-- PostgreSQLDROP VIEW IF EXISTS public."VwAdministrativeObjects";DROP RULE IF EXISTS RU_VwAdministrativeObjects ON "VwAdministrativeObjects";CREATE VIEW public."VwAdministrativeObjects" ASWITH SysSchemaAdministrationProperties AS (    SELECT AdministrationPropertiesAll.Id "SysSchemaId",        MAX(AdministrationPropertiesAll.AdministratedByOperations) "AdministratedByOperations",        MAX(AdministrationPropertiesAll.AdministratedByColumns) "AdministratedByColumns",        MAX(AdministrationPropertiesAll.AdministratedByRecords) "AdministratedByRecords",        MAX(AdministrationPropertiesAll.IsTrackChangesInDB) "IsTrackChangesInDB"    FROM (        SELECT ss."Id" Id            ,(CASE WHEN EXISTS (                SELECT 1                FROM "SysSchemaProperty" ssp                WHERE ((ssp."SysSchemaId" = ss."Id" AND NOT ss."ExtendParent") OR ssp."SysSchemaId" = DerivedSysSchema."Id")                    AND ssp."Name" = 'AdministratedByOperations'                    AND ssp."Value" = 'True'                    AND ssp."SysSchemaId" IS NOT NULL            ) THEN 1 ELSE 0 END) AdministratedByOperations            ,(CASE WHEN EXISTS (                SELECT 1                FROM "SysSchemaProperty" ssp                WHERE ((ssp."SysSchemaId" = ss."Id" AND NOT ss."ExtendParent") OR ssp."SysSchemaId" = DerivedSysSchema."Id")                    AND ssp."Name" = 'AdministratedByColumns'                    AND ssp."Value" = 'True'                    AND ssp."SysSchemaId" IS NOT NULL            ) THEN 1 ELSE 0 END) AdministratedByColumns            ,(CASE WHEN EXISTS (                SELECT 1                FROM "SysSchemaProperty" ssp                WHERE ((ssp."SysSchemaId" = ss."Id" AND NOT ss."ExtendParent") OR ssp."SysSchemaId" = DerivedSysSchema."Id")                    AND ssp."Name" = 'AdministratedByRecords'                    AND ssp."Value" = 'True'                    AND ssp."SysSchemaId" IS NOT NULL            ) THEN 1 ELSE 0 END) AdministratedByRecords            ,(CASE WHEN EXISTS (                SELECT 1                FROM "SysSchemaProperty" ssp WHERE ((ssp."SysSchemaId" = ss."Id" AND NOT ss."ExtendParent")                    OR ssp."SysSchemaId" = DerivedSysSchema."Id")                    AND ssp."Name" = 'IsTrackChangesInDB'                    AND ssp."Value" = 'True'                    AND ssp."SysSchemaId" IS NOT NULL            ) THEN 1 ELSE 0 END) IsTrackChangesInDB        FROM "SysSchema" ss        LEFT OUTER JOIN "SysSchema" DerivedSysSchema ON (ss."Id" = DerivedSysSchema."ParentId" AND DerivedSysSchema."ExtendParent")        WHERE ss."ManagerName" = 'EntitySchemaManager' AND NOT ss."ExtendParent"    ) AdministrationPropertiesAll    GROUP BY AdministrationPropertiesAll.Id)SELECT BaseSchema."UId" "Id"    ,BaseSchema."UId"    ,BaseSchema."CreatedOn"    ,BaseSchema."CreatedById"    ,BaseSchema."ModifiedOn"    ,BaseSchema."ModifiedById"    ,BaseSchema."Name"    ,public."VwSysSchemaExtending"."TopExtendingCaption" "Caption"    ,BaseSchema."Description"    ,EXISTS (        SELECT 1        FROM "SysLookup"        WHERE "SysEntitySchemaUId" = BaseSchema."UId"    ) "IsLookup"    ,EXISTS (        SELECT 1        FROM "SysModule" sm        INNER JOIN "SysModuleEntity" sme ON sme."Id" = sm."SysModuleEntityId"        WHERE BaseSchema."UId" = sme."SysEntitySchemaUId"    ) "IsModule"    ,SysSchemaAdministrationProperties."AdministratedByOperations"::BOOLEAN    ,SysSchemaAdministrationProperties."AdministratedByColumns"::BOOLEAN    ,SysSchemaAdministrationProperties."AdministratedByRecords"::BOOLEAN    ,SysSchemaAdministrationProperties."IsTrackChangesInDB"::BOOLEAN    ,"SysWorkspaceId"    ,BaseSchema."ProcessListeners"    ,EXISTS (        SELECT 1        FROM "SysSSPEntitySchemaAccessList"        WHERE "EntitySchemaUId" = BaseSchema."UId"    ) "IsInSSPEntitySchemaAccessList"FROM "SysSchema" BaseSchemaINNER JOIN "VwSysSchemaExtending" ON BaseSchema."Id" = "VwSysSchemaExtending"."BaseSchemaId"INNER JOIN "SysPackage" on BaseSchema."SysPackageId" = "SysPackage"."Id"INNER JOIN SysSchemaAdministrationProperties ON BaseSchema."Id" = SysSchemaAdministrationProperties."SysSchemaId";CREATE RULE RU_VwAdministrativeObjects AS    ON UPDATE TO "VwAdministrativeObjects"    DO INSTEAD NOTHING;