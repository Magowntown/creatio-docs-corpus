{
  "url": "https://academy.creatio.com/docs/8.x/setup-and-administration/8.1/administration/creatio-maintenance/limit-DB-thread-count",
  "title": "Limit the number of simultaneous DB queries",
  "breadcrumbs": [
    {
      "text": "Administration",
      "href": "/docs/8.x/setup-and-administration/8.1/category/administration"
    },
    {
      "text": "Creatio maintenance",
      "href": "/docs/8.x/setup-and-administration/8.1/category/creatio-maintenance"
    }
  ],
  "content_markdown": "Version: 8.1\nOn this page\nYou can improve application performance by limiting the amount of processor resources (threads) that a heavy database query can consume. This will reduce the impact of resource-intensive procedures on the work of users. Such requests are generated both in the background, for example, when executing business processes or integrations, or by users, for example, sorting registries by an aggregate column. This article describes how to configure restrictions for on-site applications. For cloud applications, these restrictions are applied automatically after upgrading to version 8.0.2.\nThe thread limiting mechanism works most effectively on servers with 4 or more processor cores.\nThe general procedure for setting restrictions consists requires steps:\n1. Enable resource limit in configuration files. [Read more >>>](https://academy.creatio.com#)\n2. Set resource limit in Creatio settings. [Read more >>>](https://academy.creatio.com#)\n## Enable resource limit for requests\u200b\nLimiting the number of threads is disabled in Creatio by default. You can enable it in the ApplyMaxDopHintToUserQueries section of the configuration file:\n* For **NET Framework** , these are web.config files located in the root folder of the application and in the TerrasoftWebApp folder.\n* For **.NET Core and .NET 6** , this is the Terrasoft.WebHost.dll.config file located in the root folder of the application.\nConfiguration file line example\n<configuration>  \n...  \n<appsettings>  \n...  \n<add key=\"ApplyMaxDopHintToUserQueries\" value=\"true\">  \n...  \n</appsettings>  \n...  \n</configuration>  \n## Set resource limit for requests\u200b\nThe system setting \"Number of MaxDopQueryHint Threads\" (code \"MaxDopHintThreadsCount\") is intended to throttle the resources that can be used for queries to the database. To set a resource limit:\n1. Open the system designer by clicking the ![btn_system_designer00001.png](https://academy.creatio.com/docs/sites/default/files/documentation/user/ru/sys_settings_lookups/BPMonlineHelp/add_lookups/btn_system_designer00001.png) button in the upper right corner of the application.\n2. In the **System settings** group, click **System settings**.\n3. Open the \"MaxDopQueryHint thread count\" system setting (code \"MaxDopHintThreadsCount\")..\n4. In the **Default value** field, set the resource limit. We recommend using from a quarter to a half of the total number of available threads, assuming one thread corresponds to one processor core. In this way, you prevent all available threads from being occupied by resource-intensive operations.\nnote\nThe limit of half of the available number of threads allows you to perform all the necessary processes and tasks, while not slowing down the work of users. For the number of threads between 4 and 8 threads, we recommend setting the limit between 2 and 4 (i.e. half the number of available threads).\nAs a result, the load on the resources of the database server processors is significantly reduced, which allows you to perform resource-intensive operations without affecting the work of Creatio users.\n* * *\n## See also\u200b\n[System requirements calculator](https://academy.creatio.com/docs/calculator)",
  "code_examples": [
    {
      "code": "<configuration>    ...    <appsettings>        ...        <add key=\"ApplyMaxDopHintToUserQueries\" value=\"true\">        ...    </appsettings>    ...</configuration>",
      "language": "xml",
      "context": "Configuration file line example",
      "tab_label": "",
      "line_count": 1
    }
  ],
  "tables": [],
  "callouts": [
    {
      "type": "note",
      "title": "Note",
      "content": "noteThe limit of half of the available number of threads allows you to perform all the necessary processes and tasks, while not slowing down the work of users. For the number of threads between 4 and 8 threads, we recommend setting the limit between 2 and 4 (i.e. half the number of available threads).",
      "html": "<div class=\"theme-admonition theme-admonition-note alert alert--secondary admonition_WoCw\"><div class=\"admonitionHeading_TMsN\">note</div><div class=\"admonitionContent_vXIg\"><p>The limit of half of the available number of threads allows you to perform all the necessary processes and tasks, while not slowing down the work of users. For the number of threads between 4 and 8 threads, we recommend setting the limit between 2 and 4 (i.e. half the number of available threads).</p></div></div>"
    },
    {
      "type": "note",
      "title": "Note",
      "content": "note",
      "html": "<div class=\"admonitionHeading_TMsN\">note</div>"
    },
    {
      "type": "note",
      "title": "Note",
      "content": "The limit of half of the available number of threads allows you to perform all the necessary processes and tasks, while not slowing down the work of users. For the number of threads between 4 and 8 threads, we recommend setting the limit between 2 and 4 (i.e. half the number of available threads).",
      "html": "<div class=\"admonitionContent_vXIg\"><p>The limit of half of the available number of threads allows you to perform all the necessary processes and tasks, while not slowing down the work of users. For the number of threads between 4 and 8 threads, we recommend setting the limit between 2 and 4 (i.e. half the number of available threads).</p></div>"
    }
  ],
  "images": [
    {
      "src": "https://academy.creatio.com/docs/sites/default/files/documentation/user/ru/sys_settings_lookups/BPMonlineHelp/add_lookups/btn_system_designer00001.png",
      "alt": "btn_system_designer00001.png",
      "title": "",
      "context": "Open the system designer by clicking thebutton in the upper right corner of the application.",
      "width": "",
      "height": "",
      "local_path": "creatio-docs-full/images/docs_8.x_setup-and-administration_8.1_administration_creatio-maintenance_limit-DB-thread-count_350fd7629916.png"
    }
  ],
  "videos": [],
  "downloadables": [],
  "headings": [
    {
      "level": 1,
      "text": "Limit the number of simultaneous DB queries",
      "anchor": ""
    },
    {
      "level": 2,
      "text": "Enable resource limit for requests\u200b",
      "anchor": "title-2372-1"
    },
    {
      "level": 2,
      "text": "Set resource limit for requests\u200b",
      "anchor": "title-2372-2"
    },
    {
      "level": 2,
      "text": "See also\u200b",
      "anchor": "see-also"
    }
  ],
  "api_docs": null,
  "sidebar_items": [
    {
      "href": "/docs/8.x/",
      "text": "Guides",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/creatio-maintenance/limit-DB-thread-count",
      "text": "Limit thread count for DB queries",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/administration/creatio-maintenance/limit-DB-thread-count",
      "text": "latest version",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.2/administration/creatio-maintenance/limit-DB-thread-count",
      "text": "8.2",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.0/administration/user-and-access-management/user-access-overview",
      "text": "8.0",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/administration",
      "text": "Administration",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/user-and-access-management",
      "text": "User and access management",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/user-and-access-management/user-access-overview",
      "text": "Overview",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/authentication",
      "text": "Authentication",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/synchronize-users-with-ldap",
      "text": "Synchronize users with LDAP",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/user-management",
      "text": "User management",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/access-management",
      "text": "Access management",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/licensing",
      "text": "Licensing",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/licensing/creatio-licensing",
      "text": "Overview",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/licensing/manage-user-licenses",
      "text": "Manage licenses",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/licensing/creatio-licensing-faq",
      "text": "FAQ",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/logging-tools",
      "text": "Logging tools",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/change-log",
      "text": "Change log",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/audit-log",
      "text": "Audit log",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/security-settings",
      "text": "Security settings",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/security-settings/secure-file-upload",
      "text": "Secure file upload",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/security-settings/recommended-information-security-settings",
      "text": "Information security settings",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/security-settings/content-security-policy",
      "text": "Content security policy",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/security-settings/store-secrets-in-vault",
      "text": "Sensitive data security",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/security-settings/host-header-protection",
      "text": "Host header protection",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/security-settings/limit-ip-for-login",
      "text": "IP restrictions",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/security-settings/platform-cookies",
      "text": "Platform Cookies",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/security-settings/remote-access-for-creatio-support",
      "text": "Remote access for Creatio support",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/creatio-maintenance",
      "text": "Creatio maintenance",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/creatio-maintenance/creatio-cloud-ips",
      "text": "Creatio cloud IP addresses",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/creatio-maintenance/clean-up-the-drive-space",
      "text": "Clean up the drive space",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/creatio-maintenance/process-complex-database-queries-faster",
      "text": "PreviousImprove page loading time",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/creatio-maintenance/manage-resource-intensive-queries",
      "text": "NextQuery management rules",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/creatio-maintenance/backup-datadase",
      "text": "Back up database",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/creatio-maintenance/manage-site",
      "text": "Maintain Creatio website",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/administration/creatio-maintenance/compile-app-on-web-farm",
      "text": "Compile an app on a web farm",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/on-site-deployment",
      "text": "On-site deployment",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/system-requirements",
      "text": "System requirements",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/on-site-deployment/general-creatio-deployment-procedure",
      "text": "General deployment procedure",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/database-server",
      "text": "Database server",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/caching-server",
      "text": "Caching server",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/application-server-on-linux",
      "text": "Application server on Linux",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/application-server-on-windows",
      "text": "Application server on Windows",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/additional-setup",
      "text": "Additional setup",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/\u0441ontainerized-components",
      "text": "\u0421ontainerized components",
      "active": false
    },
    {
      "href": "/docs/8.x/setup-and-administration/8.1/category/faq",
      "text": "FAQ",
      "active": false
    },
    {
      "href": "https://academy.creatio.com/docs/calculator",
      "text": "System requirements calculator",
      "active": false
    }
  ],
  "related_links": [],
  "version": "8.x",
  "crawled_at": "2026-01-15T07:21:03.179933"
}