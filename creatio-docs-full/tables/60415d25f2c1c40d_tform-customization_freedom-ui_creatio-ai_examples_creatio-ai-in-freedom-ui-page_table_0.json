{
  "headers": [],
  "rows": [
    [
      "Property",
      "Property value"
    ],
    [
      "Contact*",
      "John Best"
    ],
    [
      "Account",
      "Our company"
    ],
    [
      "General infotab"
    ],
    [
      "Subject*",
      "Creatio instance crashes while uploading files"
    ],
    [
      "Description",
      "The Creatio instance constantly crashes when trying to upload a file larger than 10\u00a0MB to the server. The issue seems to be with the file handling method not releasing resources after the upload is complete. In some cases, uploading a file also leads to a system timeout, with the connection closing before the process ends. It makes it difficult to determine the exact cause."
    ],
    [
      "Closure and feedbacktab"
    ],
    [
      "Resolution",
      "Upon further analysis, it was identified that the file upload function is not properly disposing of memory stream objects after the file is uploaded. The memory stream was held in memory, resulting in excessive memory consumption and eventually leading to out-of-memory exceptions. Furthermore, due to improper exception handling in a multithreading implementation, multiple threads attempting to access shared resources during concurrent uploads caused deadlocks, which in turn triggered timeouts as connections waited indefinitely for resource locks to be released.We solved this issue by implementing a more efficient memory management strategy, ensuring that all threads are explicitly disposed of after use. We implemented more efficient \"try-finally\" blocks to ensure that the cleanup logic is executed even in the event of an unexpected failure. We also introduced a semaphore to limit the number of concurrent downloads, preventing the server from overloading due to insufficient resources. Finally, we added more detailed logging to capture thread state and memory usage during the upload process for future troubleshooting."
    ]
  ],
  "caption": "",
  "html": "<table><tbody><tr><th><p>Property</p></th><th><p>Property value</p></th></tr><tr><td><center><p>Contact<font color=\"#FF0000\">*</font></p></center></td><td><center><p>John Best</p></center></td></tr><tr><td><center><p>Account</p></center></td><td><center><p>Our company</p></center></td></tr><tr><th colspan=\"2\"><p><strong>General info</strong> tab</p></th></tr><tr><td><center><p>Subject<font color=\"#FF0000\">*</font></p></center></td><td><center><p>Creatio instance crashes while uploading files</p></center></td></tr><tr><td><center><p>Description</p></center></td><td><p>The Creatio instance constantly crashes when trying to upload a file larger than 10\u00a0MB to the server. The issue seems to be with the file handling method not releasing resources after the upload is complete. In some cases, uploading a file also leads to a system timeout, with the connection closing before the process ends. It makes it difficult to determine the exact cause.</p></td></tr><tr><th colspan=\"2\"><p><strong>Closure and feedback</strong> tab</p></th></tr><tr><td><center><p>Resolution</p></center></td><td><p>Upon further analysis, it was identified that the file upload function is not properly disposing of memory stream objects after the file is uploaded. The memory stream was held in memory, resulting in excessive memory consumption and eventually leading to out-of-memory exceptions. Furthermore, due to improper exception handling in a multithreading implementation, multiple threads attempting to access shared resources during concurrent uploads caused deadlocks, which in turn triggered timeouts as connections waited indefinitely for resource locks to be released.<br/>\n<!-- -->We solved this issue by implementing a more efficient memory management strategy, ensuring that all threads are explicitly disposed of after use. We implemented more efficient \"<code>try-finally</code>\" blocks to ensure that the cleanup logic is executed even in the event of an unexpected failure. We also introduced a semaphore to limit the number of concurrent downloads, preventing the server from overloading due to insufficient resources. Finally, we added more detailed logging to capture thread state and memory usage during the upload process for future troubleshooting.</p></td></tr></tbody></table>"
}