{
  "headers": [],
  "rows": [
    [
      "Event",
      "Description of event"
    ],
    [
      "_refreshSidebarData()",
      "Refreshes sidebar data when the sidebar is opened."
    ],
    [
      "_checkUnreadMessages()",
      "Waits for data sent by the web service. When Creatio receives data, displays a notification mark on the sidebar icon."
    ],
    [
      "_isSidebarAvailable()",
      "Checks whether the sidebar is available."
    ],
    [
      "_isSidebarOpened()",
      "Checks whether the sidebar is open."
    ],
    [
      "_handleWebServiceEvent()",
      "Handles the data sent by the web service. If the sidebar is open, refreshes its data. Otherwise, opens the sidebar when the web service sends required data."
    ],
    [
      "_subscribeToWebServiceEvents()",
      "Subscribes to the data sent by the web service. When Creatio receives data, handles it."
    ],
    [
      "handle()",
      "Handles the user request. If the sidebar is available, waits for data sent by the web service and subscribes to data.We recommend avoiding long-term asynchronous operations, such as an HTTP request that loads data, in theinitevent. Otherwise, it delays the data loading and Creatio proceeds after the request handlers are completed. If executing a long-term operation is necessary, handle data and wait for asynchronous data loading using thethenmethod instead of theawaitkeyword.View an example that implements the handling of long-term asynchronous operations below.Correct handling of long-term asynchronous operationsIncorrect handling of long-term asynchronous operationsprivate_loadDataByHttpRequest():Promise<CustomData>{/* Implement the custom business logic. */...;}publicasynchandle(request:BaseRequest):Promise<void>{this._loadDataByHttpRequest().then(data=>{/* Implement the business logic that handles loaded data. */...;});awaitthis.next?.handle(request);}private_loadDataByHttpRequest():Promise<CustomData>{/* Implement the custom business logic. */...;}publicasynchandle(request:BaseRequest):Promise<void>{constdata=awaitthis._loadDataByHttpRequest()/* Implement the business logic that handles loaded data. */...;awaitthis.next?.handle(request);}"
    ]
  ],
  "caption": "",
  "html": "<table><tbody><tr><th><p>Event</p></th><th><p>Description of event</p></th></tr><tr><td><p>_refreshSidebarData()</p></td><td><p>Refreshes sidebar data when the sidebar is opened.</p></td></tr><tr><td><p>_checkUnreadMessages()</p></td><td><p>Waits for data sent by the web service. When Creatio receives data, displays a notification mark on the sidebar icon.</p></td></tr><tr><td><p>_isSidebarAvailable()</p></td><td><p>Checks whether the sidebar is available.</p></td></tr><tr><td><p>_isSidebarOpened()</p></td><td><p>Checks whether the sidebar is open.</p></td></tr><tr><td><p>_handleWebServiceEvent()</p></td><td><p>Handles the data sent by the web service. If the sidebar is open, refreshes its data. Otherwise, opens the sidebar when the web service sends required data.</p></td></tr><tr><td><p>_subscribeToWebServiceEvents()</p></td><td><p>Subscribes to the data sent by the web service. When Creatio receives data, handles it.</p></td></tr><tr><td><p>handle()</p></td><td><p>Handles the user request. If the sidebar is available, waits for data sent by the web service and subscribes to data.</p><p>We recommend avoiding long-term asynchronous operations, such as an HTTP request that loads data, in the <code>init</code> event. Otherwise, it delays the data loading and Creatio proceeds after the request handlers are completed. If executing a long-term operation is necessary, handle data and wait for asynchronous data loading using the <code>then</code> method instead of the <code>await</code> keyword.</p><p>View an example that implements the handling of long-term asynchronous operations below.</p><div class=\"tabs-container tabList__CuJ\"><ul aria-orientation=\"horizontal\" class=\"tabs\" role=\"tablist\"><li aria-selected=\"true\" class=\"tabs__item tabItem_LNqP tabs__item--active\" role=\"tab\" tabindex=\"0\">Correct handling of long-term asynchronous operations</li><li aria-selected=\"false\" class=\"tabs__item tabItem_LNqP\" role=\"tab\" tabindex=\"-1\">Incorrect handling of long-term asynchronous operations</li></ul><div class=\"margin-top--md\"><div class=\"tabItem_Ymn6\" role=\"tabpanel\"><div class=\"language-js codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color: #393A34; --prism-background-color: #f6f8fa;\"><div class=\"codeBlockContent_bxn0\"><pre class=\"prism-code language-js codeBlock_qGQc thin-scrollbar\" style=\"color: rgb(57, 58, 52); background-color: rgb(246, 248, 250);\" tabindex=\"0\"><code class=\"codeBlockLines_p187\"><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token keyword\" style=\"color: rgb(0, 0, 159);\">private</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color: rgb(215, 58, 73);\">_loadDataByHttpRequest</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">(</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">)</span><span class=\"token operator\" style=\"color: rgb(57, 58, 52);\">:</span><span class=\"token plain\"> </span><span class=\"token known-class-name class-name\">Promise</span><span class=\"token operator\" style=\"color: rgb(57, 58, 52);\">&lt;</span><span class=\"token maybe-class-name\">CustomData</span><span class=\"token operator\" style=\"color: rgb(57, 58, 52);\">&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">{</span><span class=\"token plain\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color: rgb(153, 153, 136); font-style: italic;\">/* Implement the custom business logic. */</span><span class=\"token plain\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\">  </span><span class=\"token spread operator\" style=\"color: rgb(57, 58, 52);\">...</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">;</span><span class=\"token plain\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">}</span><span class=\"token plain\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\" style=\"display: inline-block;\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color: rgb(0, 0, 159);\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color: rgb(0, 0, 159);\">async</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color: rgb(215, 58, 73);\">handle</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">(</span><span class=\"token plain\">request</span><span class=\"token operator\" style=\"color: rgb(57, 58, 52);\">:</span><span class=\"token plain\"> </span><span class=\"token maybe-class-name\">BaseRequest</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">)</span><span class=\"token operator\" style=\"color: rgb(57, 58, 52);\">:</span><span class=\"token plain\"> </span><span class=\"token known-class-name class-name\">Promise</span><span class=\"token operator\" style=\"color: rgb(57, 58, 52);\">&lt;</span><span class=\"token keyword\" style=\"color: rgb(0, 0, 159);\">void</span><span class=\"token operator\" style=\"color: rgb(57, 58, 52);\">&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">{</span><span class=\"token plain\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color: rgb(0, 0, 159);\">this</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">.</span><span class=\"token method function property-access\" style=\"color: rgb(215, 58, 73);\">_loadDataByHttpRequest</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">(</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">)</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">.</span><span class=\"token method function property-access\" style=\"color: rgb(215, 58, 73);\">then</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">(</span><span class=\"token parameter\">data</span><span class=\"token plain\"> </span><span class=\"token arrow operator\" style=\"color: rgb(57, 58, 52);\">=&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">{</span><span class=\"token plain\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\">    </span><span class=\"token comment\" style=\"color: rgb(153, 153, 136); font-style: italic;\">/* Implement the business logic that handles loaded data. */</span><span class=\"token plain\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\">    </span><span class=\"token spread operator\" style=\"color: rgb(57, 58, 52);\">...</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">;</span><span class=\"token plain\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\">  </span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">}</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">)</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">;</span><span class=\"token plain\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\">  </span><span class=\"token keyword control-flow\" style=\"color: rgb(0, 0, 159);\">await</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color: rgb(0, 0, 159);\">this</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">.</span><span class=\"token property-access\">next</span><span class=\"token operator\" style=\"color: rgb(57, 58, 52);\">?.</span><span class=\"token method function property-access\" style=\"color: rgb(215, 58, 73);\">handle</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">(</span><span class=\"token plain\">request</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">)</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">;</span><span class=\"token plain\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">}</span><br/></span></code></pre><div class=\"buttonGroup_M5ko\"><button aria-label=\"Copy code to clipboard\" class=\"clean-btn\" title=\"Copy\" type=\"button\"><span aria-hidden=\"true\" class=\"copyButtonIcons_IEyt\"><svg class=\"copyButtonIcon_TrPX\" viewbox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\" fill=\"currentColor\"></path></svg><svg class=\"copyButtonSuccessIcon_cVMy\" viewbox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\" fill=\"currentColor\"></path></svg></span></button></div></div></div></div><div class=\"tabItem_Ymn6\" hidden=\"\" role=\"tabpanel\"><div class=\"language-js codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color: #393A34; --prism-background-color: #f6f8fa;\"><div class=\"codeBlockContent_bxn0\"><pre class=\"prism-code language-js codeBlock_qGQc thin-scrollbar\" style=\"color: rgb(57, 58, 52); background-color: rgb(246, 248, 250);\" tabindex=\"0\"><code class=\"codeBlockLines_p187\"><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token keyword\" style=\"color: rgb(0, 0, 159);\">private</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color: rgb(215, 58, 73);\">_loadDataByHttpRequest</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">(</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">)</span><span class=\"token operator\" style=\"color: rgb(57, 58, 52);\">:</span><span class=\"token plain\"> </span><span class=\"token known-class-name class-name\">Promise</span><span class=\"token operator\" style=\"color: rgb(57, 58, 52);\">&lt;</span><span class=\"token maybe-class-name\">CustomData</span><span class=\"token operator\" style=\"color: rgb(57, 58, 52);\">&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">{</span><span class=\"token plain\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color: rgb(153, 153, 136); font-style: italic;\">/* Implement the custom business logic. */</span><span class=\"token plain\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\">  </span><span class=\"token spread operator\" style=\"color: rgb(57, 58, 52);\">...</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">;</span><span class=\"token plain\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">}</span><span class=\"token plain\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\" style=\"display: inline-block;\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"color: rgb(0, 0, 159);\">public</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color: rgb(0, 0, 159);\">async</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color: rgb(215, 58, 73);\">handle</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">(</span><span class=\"token plain\">request</span><span class=\"token operator\" style=\"color: rgb(57, 58, 52);\">:</span><span class=\"token plain\"> </span><span class=\"token maybe-class-name\">BaseRequest</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">)</span><span class=\"token operator\" style=\"color: rgb(57, 58, 52);\">:</span><span class=\"token plain\"> </span><span class=\"token known-class-name class-name\">Promise</span><span class=\"token operator\" style=\"color: rgb(57, 58, 52);\">&lt;</span><span class=\"token keyword\" style=\"color: rgb(0, 0, 159);\">void</span><span class=\"token operator\" style=\"color: rgb(57, 58, 52);\">&gt;</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">{</span><span class=\"token plain\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\">  </span><span class=\"token keyword\" style=\"color: rgb(0, 0, 159);\">const</span><span class=\"token plain\"> data </span><span class=\"token operator\" style=\"color: rgb(57, 58, 52);\">=</span><span class=\"token plain\"> </span><span class=\"token keyword control-flow\" style=\"color: rgb(0, 0, 159);\">await</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color: rgb(0, 0, 159);\">this</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">.</span><span class=\"token method function property-access\" style=\"color: rgb(215, 58, 73);\">_loadDataByHttpRequest</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">(</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">)</span><span class=\"token plain\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\">  </span><span class=\"token comment\" style=\"color: rgb(153, 153, 136); font-style: italic;\">/* Implement the business logic that handles loaded data. */</span><span class=\"token plain\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\">  </span><span class=\"token spread operator\" style=\"color: rgb(57, 58, 52);\">...</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">;</span><span class=\"token plain\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\">  </span><span class=\"token keyword control-flow\" style=\"color: rgb(0, 0, 159);\">await</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color: rgb(0, 0, 159);\">this</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">.</span><span class=\"token property-access\">next</span><span class=\"token operator\" style=\"color: rgb(57, 58, 52);\">?.</span><span class=\"token method function property-access\" style=\"color: rgb(215, 58, 73);\">handle</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">(</span><span class=\"token plain\">request</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">)</span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">;</span><span class=\"token plain\"></span><br/></span><span class=\"token-line\" style=\"color: rgb(57, 58, 52);\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color: rgb(57, 58, 52);\">}</span><br/></span></code></pre><div class=\"buttonGroup_M5ko\"><button aria-label=\"Copy code to clipboard\" class=\"clean-btn\" title=\"Copy\" type=\"button\"><span aria-hidden=\"true\" class=\"copyButtonIcons_IEyt\"><svg class=\"copyButtonIcon_TrPX\" viewbox=\"0 0 24 24\"><path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\" fill=\"currentColor\"></path></svg><svg class=\"copyButtonSuccessIcon_cVMy\" viewbox=\"0 0 24 24\"><path d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\" fill=\"currentColor\"></path></svg></span></button></div></div></div></div></div></div></td></tr></tbody></table>"
}